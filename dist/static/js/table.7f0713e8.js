(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["table"],{"0106":function(e,t,i){},"0304":function(e,t,i){},"0643":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-monitor"}),t("span",{staticStyle:{"font-size":"25"}},[e._v("设备管理")])])],1)],1),t("div",{staticClass:"container"},[t("div",{staticClass:"handle-box"},[t("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAllSelection}},[e._v("批量删除")]),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"状态",filterable:""},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},[t("el-option",{key:"1",attrs:{label:"已绑定",value:"已绑定"}}),t("el-option",{key:"2",attrs:{label:"未绑定",value:"未绑定"}})],1),"未绑定"!=e.query.status?t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"绑定项目",filterable:""},model:{value:e.query.projectNo,callback:function(t){e.$set(e.query,"projectNo",t)},expression:"query.projectNo"}},e._l(e.projectlist,(function(e){return t("el-option",{key:e,attrs:{value:e},on:{focus:function(e){return this.getproject()}}})})),1):e._e(),t("el-button",{attrs:{type:"primary",icon:"el-icon-aim"},on:{click:e.handleSearch}},[e._v("搜索")]),t("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-full-screen"},on:{click:function(t){return e.all()}}},[e._v("全部")]),t("el-button",{staticClass:"handle-del mr10",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleInsert}},[e._v("新增设备")])],1),t("el-table",{key:e.bomCheckKey,ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header","row-class-name":e.tableRowClassName},on:{"update:data":function(t){e.tableData=t},"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{prop:"deviceName",label:"名称",width:"80",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"channel",label:"通道",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"deviceNo",label:"设备编号",align:"center"}}),t("el-table-column",{attrs:{prop:"storage",label:"存储路径",align:"center"}}),t("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"80"}}),t("el-table-column",{attrs:{prop:"projectNo",label:"项目编号",width:"110",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{label:"操作",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(i.$index,i.row,i.row.id)}}},[e._v("编辑")]),t("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(i.$index,i.row,i.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next ","current-page":e.query.page,"page-size":e.query.pagesize,total:e.pageTotal},on:{"update:currentPage":function(t){return e.$set(e.query,"page",t)},"update:current-page":function(t){return e.$set(e.query,"page",t)},"current-change":e.handlePageChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑设备",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[t("el-form",{ref:"form",staticStyle:{"padding-left":"5px"},attrs:{model:e.form,"label-width":"70px",rules:e.rules}},[t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    名称：\n                    "),t("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName",t)},expression:"form.deviceName"}})],1)]),t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    通道：\n                    "),t("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.channel,callback:function(t){e.$set(e.form,"channel",t)},expression:"form.channel"}})],1)]),t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    设备编号：\n                    "),t("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.deviceNo,callback:function(t){e.$set(e.form,"deviceNo",t)},expression:"form.deviceNo"}})],1)]),t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    存储路径：\n                    "),t("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.storage,callback:function(t){e.$set(e.form,"storage",t)},expression:"form.storage"}})],1)]),t("span",{staticStyle:{"padding-left":"80px"}},[e._v("状态：")]),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-option",{key:"1",attrs:{label:"已绑定",value:"已绑定"}}),t("el-option",{key:"2",attrs:{label:"未绑定",value:"未绑定"}})],1),"已绑定"==e.form.status?t("div",[t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px","padding-top":"20px"}},[e._v(" \n                    绑定项目：\n                    "),t("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.projectNo,callback:function(t){e.$set(e.form,"projectNo",t)},expression:"form.projectNo"}})],1)])],1):e._e()],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.noEdit()}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveEdit(e.editId)}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"新增设备",visible:e.insertVisible,width:"30%"},on:{"update:visible":function(t){e.insertVisible=t}}},[t("el-form",{ref:"insertForm",staticStyle:{"padding-left":"5px"},attrs:{model:e.insert,"label-width":"70px",rules:e.rules}},[t("el-form-item",{attrs:{prop:"deviceName"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    名称：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入名称"},model:{value:e.insert.deviceName,callback:function(t){e.$set(e.insert,"deviceName",t)},expression:"insert.deviceName"}})],1)]),t("el-form-item",{attrs:{prop:"channel"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    通道：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入通道"},model:{value:e.insert.channel,callback:function(t){e.$set(e.insert,"channel",t)},expression:"insert.channel"}})],1)]),t("el-form-item",{attrs:{prop:"deviceNo"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    设备编号：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入设备编号"},model:{value:e.insert.deviceNo,callback:function(t){e.$set(e.insert,"deviceNo",t)},expression:"insert.deviceNo"}})],1)]),t("el-form-item",{attrs:{prop:"storage"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    存储路径：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入存储路径"},model:{value:e.insert.storage,callback:function(t){e.$set(e.insert,"storage",t)},expression:"insert.storage"}})],1)]),t("el-form-item",{attrs:{prop:"status"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                    状态：\n                    "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"状态"},model:{value:e.insert.status,callback:function(t){e.$set(e.insert,"status",t)},expression:"insert.status"}},[t("el-option",{key:"1",attrs:{label:"未绑定",value:"未绑定"}}),t("el-option",{key:"2",attrs:{label:"已绑定",value:"已绑定"}})],1)],1)]),"已绑定"==e.insert.status?t("div",[t("el-form-item",{attrs:{prop:"projectNo"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                        项目编号：\n                            "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入绑定项目"},model:{value:e.insert.projectNo,callback:function(t){e.$set(e.insert,"projectNo",t)},expression:"insert.projectNo"}})],1)])],1):e._e()],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.insertVisible=!1}}},[e._v("取 消")]),t("el-button",{on:{click:function(t){return e.resetForm("insertForm")}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("insertForm")}}},[e._v("确 定")])],1)],1)],1)},l=[],n=(i("ac6a"),i("6b54"),i("365c")),r={name:"basetable",data:function(){return{query:{status:"",projectNo:"",page:1,pagesize:8},bomCheckKey:0,tableData:[],multipleSelection:[],multipleSelectionId:[],delList:[],editVisible:!1,insertVisible:!1,pageTotal:0,form:{id:"",deviceName:"",channel:"",deviceNo:"",storage:"",status:"",projectNo:""},idx:-1,id:-1,testId:"",formData:"",searchData:[],selectExecutor:"",editId:"",missionCount:"",edit:{status:"",executorName:""},projectlist:[],pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},editTime:"",editTime1:"",insert:{deviceName:"",channel:"",deviceNo:"",storage:"",status:"",projectNo:""},rules:{deviceName:[{required:!0,message:"请输入设备名称",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],channel:[{required:!0,message:"请输入设备通道",trigger:"blur"},{required:!0,pattern:/^[1-9]\d*$/,message:"通道号应为数字",trigger:"blur"},{min:20,max:20,message:"长度为20个字符",trigger:"blur"}],deviceNo:[{required:!0,message:"请输入设备编号",trigger:"blur"},{required:!0,pattern:/^[1-9]\d*$/,message:"设备编号应为数字",trigger:"blur"},{min:20,max:20,message:"长度为20个字符",trigger:"blur"}],storage:[{required:!0,message:"请输入存储路径",trigger:"blur"},{required:!0,pattern:/^[1-9]\d*$/,message:"存储路径应为数字",trigger:"blur"},{min:20,max:20,message:"长度为20个字符",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],projectNo:[{required:!0,message:"请输入绑定项目编号",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}]}}},created:function(){this.getData(),this.getproject()},methods:{tableRowClassName:function(e){var t=e.row;e.rowIndex;return"已绑定"==t.status?"warning-row":"success-row"},getData:function(){var e=this;Object(n["i"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},getproject:function(){var e=this;Object(n["D"])().then((function(t){e.projectlist=t}))},all:function(){var e=this;this.$set(this.query,"page",1),this.query.status="",this.query.projectNo="",Object(n["i"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},handleSearch:function(){var e=this;this.$set(this.query,"page",1),Object(n["i"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},selectPage:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;selectPage(0,10).then((function(t){e.tableData=t.list}))})),handleDelete:function(e,t,i){var a=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){a.$message.success("删除成功"),a.tableData.splice(e,1),Object(n["h"])(i)})).catch((function(){}))},handleSelectionChange:function(e){var t=this;this.multipleSelection=[],this.multipleSelectionId=[],this.multipleSelection=e,e.forEach((function(e){t.multipleSelectionId.push(e.id)}))},delAllSelection:function(){var e=this,t=this.multipleSelectionId.length,i="",a="",l=t;this.delList=this.delList.concat(this.multipleSelectionId);for(var r=0;r<t;r++)r!=l-1?(i+=this.multipleSelectionId[r]+",",a+=this.multipleSelection[r].deviceName+"、"):(i+=this.multipleSelectionId[r],a+=this.multipleSelection[r].deviceName);this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){Object(n["h"])(i),e.$message.error("删除了设备".concat(a,"，共").concat(l,"条数据"))})).catch((function(){})),this.multipleSelection=[]},handleEdit:function(e,t,i){this.idx=e,this.form=t,this.editVisible=!0,this.editId=i},saveEdit:function(e){var t=this;Object(n["m"])(this.form).then((function(e){t.$message.success("修改第 ".concat(t.idx+1," 行成功"))})),this.editVisible=!1,this.$set(this.tableData,this.idx,this.form),this.editTime="",this.editTime1=""},noEdit:function(){this.getData(),this.editVisible=!1},handleInsert:function(){this.insert={},this.insertVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(n["k"])(t.insert).then((function(e){t.insertVisible=!1,t.$message.success("新增成功")}))}))},resetForm:function(e){this.$refs[e].resetFields()},handlePageChange:function(e){this.$set(this.query,"page",e),this.getData()}}},s=r,o=(i("7c47"),i("2877")),c=Object(o["a"])(s,a,l,!1,null,"b5046ee4",null);t["default"]=c.exports},"12c5":function(e,t,i){"use strict";i("0106")},"21cd":function(e,t,i){"use strict";i("3b37")},"21ed":function(e,t,i){"use strict";i("f8bf")},"3b37":function(e,t,i){},"3b61":function(e,t,i){"use strict";i.r(t);i("7f7f");var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-lx-cascades"}),t("span",{staticStyle:{"font-size":"25"}},[e._v("任务管理")])])],1)],1),t("div",{staticClass:"container"},[t("div",{staticClass:"handle-box"},[t("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAllSelection}},[e._v("批量删除")]),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"状态",filterable:""},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},[t("el-option",{key:"1",attrs:{label:"未生效",value:"未生效"}}),t("el-option",{key:"2",attrs:{label:"未执行",value:"未执行"}}),t("el-option",{key:"3",attrs:{label:"已执行",value:"已执行"}}),t("el-option",{key:"4",attrs:{label:"其他",value:"其他"}})],1),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"发布单位",filterable:""},on:{focus:function(t){return e.getdepartment()}},model:{value:e.query.createDepartment,callback:function(t){e.$set(e.query,"createDepartment",t)},expression:"query.createDepartment"}},e._l(this.departmentlist,(function(e){return t("el-option",{key:e,attrs:{value:e}})})),1),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"执行人",filterable:""},on:{focus:function(t){return e.getexecutor()}},model:{value:e.query.executorName,callback:function(t){e.$set(e.query,"executorName",t)},expression:"query.executorName"}},e._l(this.executorlist,(function(e){return t("el-option",{key:e,attrs:{value:e}})})),1),t("el-button",{attrs:{type:"primary",icon:"el-icon-aim"},on:{click:e.handleSearch}},[e._v("搜索")]),t("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-full-screen"},on:{click:function(t){return e.all()}}},[e._v("全部")]),t("el-button",{staticClass:"handle-del mr10",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleInsert}},[e._v("新增任务")])],1),t("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{prop:"missionNo",label:"编号",width:"80",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"missionName",label:"名称",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"projectId",label:"所属项目",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"createDepartment",label:"发布单位",width:"70",align:"center"}}),t("el-table-column",{attrs:{prop:"executor",label:"执行人",width:"70",align:"center"}}),t("el-table-column",{attrs:{prop:"executeTime",label:"执行时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"finishTime",label:"完成时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"80",align:"center"}}),t("el-table-column",{attrs:{prop:"deviceId",label:"关联设备",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{label:"操作",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(i.$index,i.row,i.row.id)}}},[e._v("编辑")]),t("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(i.$index,i.row,i.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next ","current-page":e.query.page,"page-size":e.query.pagesize,total:e.pageTotal},on:{"update:currentPage":function(t){return e.$set(e.query,"page",t)},"update:current-page":function(t){return e.$set(e.query,"page",t)},"current-change":e.handlePageChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑任务",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[t("el-form",{ref:"form",staticStyle:{"padding-left":"5px"},attrs:{model:e.form,"label-width":"70px",rules:e.rules}},[t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    执行人：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.executor,callback:function(t){e.$set(e.form,"executor",t)},expression:"form.executor"}})],1)]),t("el-form-item",[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                    状态：\n                    "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-option",{key:"1",attrs:{label:"未生效",value:"未生效"}}),t("el-option",{key:"2",attrs:{label:"未执行",value:"未执行"}}),t("el-option",{key:"3",attrs:{label:"已执行",value:"已执行"}}),t("el-option",{key:"4",attrs:{label:"其他",value:"其他"}})],1)],1)]),t("el-form-item",{attrs:{prop:"editTime"}},[t("div",{staticClass:"block",attrs:{"padding-bottom":"10px"}},[t("span",{staticClass:"demonstration"},[e._v("执行时间：")]),t("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"选择执行时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.form.executeTime,callback:function(t){e.$set(e.form,"executeTime",t)},expression:"form.executeTime"}})],1)]),t("el-form-item",{attrs:{prop:"editTime1"}},[t("div",{staticClass:"block",attrs:{"margin-bottom":"0"}},[t("span",{staticClass:"demonstration"},[e._v("完成时间：")]),t("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"选择完成时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.form.finishTime,callback:function(t){e.$set(e.form,"finishTime",t)},expression:"form.finishTime"}})],1)])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveEdit(e.editId)}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"新增任务",visible:e.insertVisible,width:"30%"},on:{"update:visible":function(t){e.insertVisible=t}}},[t("el-form",{ref:"insertForm",staticStyle:{"padding-left":"5px"},attrs:{model:e.insert,"label-width":"70px",rules:e.rules}},[t("el-form-item",{attrs:{prop:"no"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    编号：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.insert.no,callback:function(t){e.$set(e.insert,"no",t)},expression:"insert.no"}})],1)]),t("el-form-item",{attrs:{prop:"name"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    名称：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.insert.name,callback:function(t){e.$set(e.insert,"name",t)},expression:"insert.name"}})],1)]),t("el-form-item",{attrs:{prop:"projectId"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                    所属项目：\n                        "),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"项目列表",filterable:""},on:{focus:function(t){return e.getpro()}},model:{value:e.insert.projectId,callback:function(t){e.$set(e.insert,"projectId",t)},expression:"insert.projectId"}},e._l(this.projectlist,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),t("el-form-item",{attrs:{prop:"createDepartment"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                    发布单位：\n                    "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"发布单位"},model:{value:e.insert.createDepartment,callback:function(t){e.$set(e.insert,"createDepartment",t)},expression:"insert.createDepartment"}},[t("el-option",{key:"0",attrs:{label:"济南局",value:"0"}}),t("el-option",{key:"1",attrs:{label:"济宁局",value:"1"}}),t("el-option",{key:"2",attrs:{label:"超高压",value:"3"}}),t("el-option",{key:"3",attrs:{label:"其他",value:"3"}})],1)],1)]),t("el-form-item",{attrs:{prop:"executor"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    执行人：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.insert.executor,callback:function(t){e.$set(e.insert,"executor",t)},expression:"insert.executor"}})],1)]),t("el-form-item",{attrs:{prop:"status"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                    状态：\n                    "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"状态"},model:{value:e.insert.status,callback:function(t){e.$set(e.insert,"status",t)},expression:"insert.status"}},[t("el-option",{key:"1",attrs:{label:"未生效",value:"未生效"}}),t("el-option",{key:"2",attrs:{label:"未执行",value:"未执行"}}),t("el-option",{key:"3",attrs:{label:"已执行",value:"已执行"}}),t("el-option",{key:"4",attrs:{label:"其他",value:"其他"}})],1)],1)]),t("el-form-item",{attrs:{prop:"deviceId"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    关联设备：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.insert.deviceId,callback:function(t){e.$set(e.insert,"deviceId",t)},expression:"insert.deviceId"}})],1)]),t("el-form-item",{attrs:{prop:"insertTime"}},[t("div",{staticClass:"block",attrs:{"padding-bottom":"10px"}},[t("span",{staticClass:"demonstration"},[e._v("执行时间：")]),t("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"选择执行时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.insert.insertTime,callback:function(t){e.$set(e.insert,"insertTime",t)},expression:"insert.insertTime"}})],1)]),t("el-form-item",{attrs:{prop:"insertTime1"}},[t("div",{staticClass:"block",attrs:{"margin-bottom":"0"}},[t("span",{staticClass:"demonstration"},[e._v("完成时间：")]),t("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"选择完成时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.insert.insertTime1,callback:function(t){e.$set(e.insert,"insertTime1",t)},expression:"insert.insertTime1"}})],1)])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.insertVisible=!1}}},[e._v("取 消")]),t("el-button",{on:{click:function(t){return e.resetForm("insertForm")}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("insertForm")}}},[e._v("确 定")])],1)],1)],1)},l=[],n=(i("ac6a"),i("6b54"),i("365c")),r={name:"basetable",data:function(){return{query:{executorName:"",createDepartment:"",status:"",page:1,pagesize:8},tableData:[],multipleSelection:[],multipleSelectionId:[],delList:[],editVisible:!1,insertVisible:!1,pageTotal:0,form:{executeTime:"",finishTime:"",status:"",executor:""},idx:-1,id:-1,testId:"",formData:"",searchData:[],selectExecutor:"",editId:"",missionCount:"",edit:{status:"",executorName:""},pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},editTime:"",editTime1:"",insert:{no:"",name:"",projectId:"",createDepartment:"",executor:"",status:"",deviceId:"",insertTime:"",insertTime1:""},departmentlist:[],executorlist:[],projectlist:[],rules:{no:[{required:!0,message:"请输入任务编号",trigger:"blur"},{required:!0,pattern:/^[1-9]\d*$/,message:"任务编号应为数字",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入任务名称",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],projectId:[{required:!0,message:"请输入所属项目ID",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],createDepartment:[{required:!0,message:"请输入发布单位",trigger:"change"}],executor:[{required:!0,message:"请输入执行人",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],status:[{required:!0,message:"请输入状态",trigger:"change"}],deviceId:[{required:!0,message:"请输入关联设备ID",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],insertTime:[{type:"string",message:"请选择执行时间",trigger:"change"}],insertTime1:[{type:"string",message:"请选择完成时间",trigger:"change"}]}}},created:function(){this.getData()},methods:{getpro:function(){var e=this;Object(n["v"])().then((function(t){e.projectlist=t}))},getData:function(){var e=this;Object(n["q"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},getdepartment:function(){var e=this;Object(n["z"])().then((function(t){e.departmentlist=t}))},getexecutor:function(){var e=this;Object(n["A"])().then((function(t){e.executorlist=t}))},all:function(){var e=this;this.$set(this.query,"page",1),this.query.createDepartment="",this.query.executorName="",this.query.status="",Object(n["q"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},handleSearch:function(){var e=this;this.$set(this.query,"page",1),this.missionCount=1,Object(n["q"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},selectPage:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;selectPage(0,10).then((function(t){e.tableData=t.list}))})),handleDelete:function(e,t,i){var a=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){a.$message.success("删除成功"),a.tableData.splice(e,1),Object(n["g"])(i)})).catch((function(){}))},handleSelectionChange:function(e){var t=this;this.multipleSelection=[],this.multipleSelectionId=[],this.multipleSelection=e,e.forEach((function(e){t.multipleSelectionId.push(e.id)}))},delAllSelection:function(){var e=this.multipleSelectionId.length,t="",i="",a=e;this.delList=this.delList.concat(this.multipleSelectionId);for(var l=0;l<e;l++)l!=a-1?(t+=this.multipleSelectionId[l]+",",i+=this.multipleSelection[l].missionNo+"、"):(t+=this.multipleSelectionId[l],i+=this.multipleSelection[l].missionNo);Object(n["g"])(t),this.$message.error("删除了任务".concat(i,"，共").concat(a,"条数据")),this.multipleSelection=[]},handleEdit:function(e,t,i){this.idx=e,this.form=t,this.editVisible=!0,this.editId=i},saveEdit:function(e){this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.$set(this.tableData,this.idx,this.form),Object(n["F"])(this.form),this.editTime="",this.editTime1=""},handleInsert:function(){this.insertVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(n["o"])(t.insert),t.insertVisible=!1,t.insert={}}))},resetForm:function(e){this.$refs[e].resetFields()},handlePageChange:function(e){this.$set(this.query,"page",e),this.getData()}}},s=r,o=(i("12c5"),i("2877")),c=Object(o["a"])(s,a,l,!1,null,"30ae071a",null);t["default"]=c.exports},4826:function(e,t,i){"use strict";i("62e7")},"62e7":function(e,t,i){},"782a":function(e,t,i){"use strict";i("0304")},"7c47":function(e,t,i){"use strict";i("80b8")},"80b8":function(e,t,i){},ca3d:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-lx-news"}),t("span",{staticStyle:{"font-size":"25"}},[e._v("项目管理")])])],1)],1),t("div",{staticClass:"container"},[t("div",{staticClass:"handle-box"},[t("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAllSelection}},[e._v("批量删除")]),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"状态",filterable:""},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},[t("el-option",{key:"1",attrs:{label:"未生效",value:"未生效"}}),t("el-option",{key:"2",attrs:{label:"未执行",value:"未执行"}}),t("el-option",{key:"3",attrs:{label:"已执行",value:"已执行"}}),t("el-option",{key:"4",attrs:{label:"其他",value:"其他"}})],1),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"负责人",filterable:""},on:{focus:function(t){return e.getmanager()}},model:{value:e.query.manager,callback:function(t){e.$set(e.query,"manager",t)},expression:"query.manager"}},e._l(this.managerlist,(function(e){return t("el-option",{key:e,attrs:{value:e}})})),1),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"省份",filterable:""},on:{focus:function(t){return e.getprovince()},change:function(t){return e.getcity(e.query.province)}},model:{value:e.query.province,callback:function(t){e.$set(e.query,"province",t)},expression:"query.province"}},e._l(this.provincelist,(function(e){return t("el-option",{key:e,attrs:{value:e}})})),1),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"市",filterable:""},model:{value:e.query.city,callback:function(t){e.$set(e.query,"city",t)},expression:"query.city"}},e._l(this.citylist,(function(e){return t("el-option",{key:e,attrs:{value:e}})})),1),t("el-button",{attrs:{type:"primary",icon:"el-icon-aim"},on:{click:e.handleSearch}},[e._v("搜索")]),t("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-full-screen"},on:{click:function(t){return e.all()}}},[e._v("全部")]),t("el-button",{staticClass:"handle-del mr10",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleInsert}},[e._v("新增项目")])],1),t("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{prop:"projectNo",label:"编号",width:"80",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"projectName",label:"名称",width:"80",align:"center"}}),t("el-table-column",{attrs:{prop:"startTime",label:"开始时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"manager",label:"负责人",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"province",label:"省",width:"70",align:"center"}}),t("el-table-column",{attrs:{prop:"city",label:"市",width:"70",align:"center"}}),t("el-table-column",{attrs:{prop:"lng",label:"经度",width:"80",align:"center"}}),t("el-table-column",{attrs:{prop:"lat",label:"纬度",width:"80",align:"center"}}),t("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"80"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{label:"操作",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(i.$index,i.row,i.row.id)}}},[e._v("编辑")]),t("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(i.$index,i.row,i.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next ","current-page":e.query.page,"page-size":e.query.pagesize,total:e.pageTotal},on:{"update:currentPage":function(t){return e.$set(e.query,"page",t)},"update:current-page":function(t){return e.$set(e.query,"page",t)},"current-change":e.handlePageChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑项目",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[t("el-form",{ref:"form",staticStyle:{"padding-left":"5px"},attrs:{model:e.form,"label-width":"70px",rules:e.rules}},[t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    编号：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.projectNo,callback:function(t){e.$set(e.form,"projectNo",t)},expression:"form.projectNo"}})],1)]),t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    名称：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.projectName,callback:function(t){e.$set(e.form,"projectName",t)},expression:"form.projectName"}})],1)]),t("el-form-item",{attrs:{prop:"editTime"}},[t("div",{staticClass:"block",attrs:{"padding-bottom":"10px"}},[t("span",{staticClass:"demonstration"},[e._v("开始时间：")]),t("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"选择执行时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1)]),t("el-form-item",{attrs:{prop:"editTime1"}},[t("div",{staticClass:"block",attrs:{"margin-bottom":"0"}},[t("span",{staticClass:"demonstration"},[e._v("结束时间：")]),t("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"选择完成时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.form.finishTime,callback:function(t){e.$set(e.form,"finishTime",t)},expression:"form.finishTime"}})],1)]),t("el-form-item",[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    负责人：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.manager,callback:function(t){e.$set(e.form,"manager",t)},expression:"form.manager"}})],1)]),t("el-form-item",[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                    状态：\n                    "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-option",{key:"1",attrs:{label:"未生效",value:"1"}}),t("el-option",{key:"2",attrs:{label:"未执行",value:"2"}}),t("el-option",{key:"3",attrs:{label:"已执行",value:"3"}}),t("el-option",{key:"4",attrs:{label:"其他",value:"4"}})],1)],1)])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancelEdit()}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveEdit(e.editId)}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"新增项目",visible:e.insertVisible,width:"30%"},on:{"update:visible":function(t){e.insertVisible=t}}},[t("el-form",{ref:"insertForm",staticStyle:{"padding-left":"5px"},attrs:{model:e.insert,"label-width":"70px",rules:e.rules}},[t("el-form-item",{attrs:{prop:"projectNo"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    编号：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},on:{change:e.typeCheck},model:{value:e.insert.projectNo,callback:function(t){e.$set(e.insert,"projectNo",t)},expression:"insert.projectNo"}})],1)]),t("el-form-item",{attrs:{prop:"projectName"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    名称：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.insert.projectName,callback:function(t){e.$set(e.insert,"projectName",t)},expression:"insert.projectName"}})],1)]),t("el-form-item",{attrs:{prop:"insertTime"}},[t("div",{staticClass:"block",attrs:{"padding-bottom":"10px"}},[t("span",{staticClass:"demonstration"},[e._v("开始时间：")]),t("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"请选择执行时间",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions},model:{value:e.insert.startTime,callback:function(t){e.$set(e.insert,"startTime",t)},expression:"insert.startTime"}})],1)]),t("el-form-item",{attrs:{prop:"manager"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    负责人：\n                        "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入负责人"},model:{value:e.insert.manager,callback:function(t){e.$set(e.insert,"manager",t)},expression:"insert.manager"}})],1)]),t("el-form-item",{attrs:{prop:"status"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                    状态：\n                    "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"状态"},model:{value:e.insert.status,callback:function(t){e.$set(e.insert,"status",t)},expression:"insert.status"}},[t("el-option",{key:"1",attrs:{label:"未生效",value:"未生效"}}),t("el-option",{key:"2",attrs:{label:"未执行",value:"未执行"}}),t("el-option",{key:"3",attrs:{label:"已执行",value:"已执行"}}),t("el-option",{key:"4",attrs:{label:"其他",value:"其他"}})],1)],1)]),t("el-form-item",{attrs:{prop:"device"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                    设备：\n                "),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"设备列表",filterable:""},on:{focus:function(t){return e.getdev()},change:e.changeTest},model:{value:e.insert.deviceid,callback:function(t){e.$set(e.insert,"deviceid",t)},expression:"insert.deviceid"}},e._l(this.devlist,(function(e){return t("el-option",{key:e.id,attrs:{label:e.deviceName,value:e.id}})})),1)],1)]),t("el-form-item",{attrs:{prop:"province"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    所属省：\n                        "),e._v("\n                        "+e._s(e.insert.province)+"\n                    ")])]),t("el-form-item",{attrs:{prop:"city"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    所属市：\n                        "),e._v("\n                        "+e._s(e.insert.city)+"\n                    ")])]),t("el-form-item",{attrs:{prop:"city"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    详细地址：\n                        "),e._v("\n                        "+e._s(e.insert.address)+"\n                    ")])]),t("el-form-item",{attrs:{prop:"lng"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    经度：\n                    "+e._s(e.insert.lng)+"\n                        ")])]),t("el-form-item",{attrs:{prop:"lat"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                    纬度：\n                    "+e._s(e.insert.lat)+"\n                        ")])])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"success"},on:{click:function(t){e.positionVisible=!0}}},[e._v("地图选点")]),t("el-button",{on:{click:function(t){e.insertVisible=!1}}},[e._v("取 消")]),t("el-button",{on:{click:function(t){return e.resetForm("insertForm")}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("insertForm")}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"地图选点",visible:e.positionVisible,left:"","append-to-body":!0,"lock-scroll":!1,width:"65%","show-close":!1},on:{"update:visible":function(t){e.positionVisible=t}}},[t("div"),t("baidu-map",{staticClass:"map",attrs:{center:e.center,zoom:e.zoom,"scroll-wheel-zoom":!0,ak:"sQFPCH4q2dTZU4afGAyfPNgGxji4YOGq"},on:{ready:e.handler,click:e.clickEvent}},[t("bm-navigation",{staticStyle:{"margin-right":"100px"},attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),t("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0},on:{locationSuccess:e.getLoctionSuccess}}),t("bm-view",{style:{width:"100%",height:this.clientHeight+"px",flex:1,marginBottom:"0px"}}),e.labelShow&&e.index==e.markerIndex?t("bm-label",{attrs:{content:e.postion.title,dragging:!1,"label-style":e.labelStyle,offset:{width:10,height:-30}}}):e._e(),t("bm-control",[t("bm-auto-complete",{attrs:{"sug-style":{zIndex:2005}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[t("el-input",{staticStyle:{width:"300px","margin-top":"10px","margin-left":"10px"},attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-refresh"},on:{click:e.setSourceCenter},slot:"append"})],1)],1)],1),t("bm-local-search",{attrs:{keyword:e.keyword,"auto-viewport":!0,location:e.location,pageCapacity:4}})],1),t("div",{staticClass:"demo-input-suffix"},[t("el-link",{attrs:{type:"info"}},[e._v("经度(lng)： ")]),t("el-input",{staticClass:"lineinput",staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.locData.longitude,callback:function(t){e.$set(e.locData,"longitude",e._n(t))},expression:"locData.longitude"}}),t("el-link",{attrs:{type:"info"}},[e._v("纬度(lat)： ")]),t("el-input",{staticClass:"lineinput",staticStyle:{width:"100px"},attrs:{size:"mini"},model:{value:e.locData.latitude,callback:function(t){e.$set(e.locData,"latitude",e._n(t))},expression:"locData.latitude"}}),t("el-link",{attrs:{type:"info"}},[e._v("地址：")]),t("el-input",{staticClass:"lineinput",staticStyle:{width:"250px"},attrs:{size:"mini"},model:{value:e.locData.address,callback:function(t){e.$set(e.locData,"address",t)},expression:"locData.address"}})],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-close"},nativeOn:{click:function(t){return e.close.apply(null,arguments)}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-check"},nativeOn:{click:function(t){return e.findlocation.apply(null,arguments)}}},[e._v("保存")])],1)],1)],1)},l=[],n=(i("6b54"),i("386d"),i("ac6a"),i("bd0c")),r=i("365c"),s=null,o={name:"basetable",components:{BaiduMap:n["BaiduMap"],BmNavigation:n["BmNavigation"],BmView:n["BmView"],BmGeolocation:n["BmGeolocation"],BmCityList:n["BmCityList"]},data:function(){return{center:{lng:117.063035,lat:36.672767},zoom:12,locData:{longitude:"",latitude:"",address:"",city:"",province:""},clientHeight:document.documentElement.clientHeight-600,iconUrl:"http://api.map.baidu.com/img/markers.png",search:"",searchOption:[],loading:!1,keyword:"",query:{manager:"",province:"",city:"",status:"",page:1,pagesize:8,deviceName:""},tableData:[],multipleSelection:[],multipleSelectionId:[],delList:[],editVisible:!1,insertVisible:!1,positionVisible:!1,pageTotal:0,form:{id:"",projectName:"",startTime:"",finishTime:"",manager:"",status:""},temp:{id:"",projectName:"",startTime:"",finishTime:"",manager:"",status:""},idx:-1,id:-1,testId:"",formData:"",searchData:[],selectExecutor:"",editId:"",missionCount:"",edit:{status:"",executorName:""},pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},editTime:"",editTime1:"",insert:{projectNo:"",projectName:"",startTime:"",finishTime:"",manager:"",province:"",city:"",lng:"",lat:"",status:"",address:"",deviceid:""},provincelist:[],citylist:[],managerlist:[],devlist:[],flag:"",rules:{projectNo:[{required:!0,message:"请输入项目编号",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],projectId:[{required:!0,message:"请输入所属项目ID",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],manager:[{required:!0,message:"请输入负责人",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],province:[{required:!0,message:"请输入所属省",trigger:"blur"},{min:1,max:8,message:"长度在 1 到 8 个字符",trigger:"blur"}],city:[{required:!0,message:"请输入所属市",trigger:"blur"},{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}],lng:[{required:!0,message:"请输入经度",trigger:"blur"}],lat:[{required:!0,message:"请输入纬度",trigger:"blur"}],insertTime:[{type:"string",message:"请选择执行时间",trigger:"change"}],insertTime1:[{type:"string",message:"请选择完成时间",trigger:"change"}]}}},created:function(){this.getData()},methods:{handler:function(e){var t=e.BMap,i=e.map,a=this,l=new t.Geolocation;l.getCurrentPosition((function(e){a.center={lng:e.longitude,lat:e.latitude},a.autoLocationPoint={lng:e.longitude,lat:e.latitude},a.initLocation=!0}),{enableHighAccuracy:!0}),window.map=i},typeCheck:function(e){try{return this.tableData.forEach((function(t){if(t.projectNo==e)throw new Error("type-check-error")})),!0}catch(t){if("type-check-error"==t.message)return this.$message({message:"项目编号已存在",type:"warning"}),!1}},getdev:function(){var e=this;Object(r["l"])().then((function(t){e.devlist=t}))},clickEvent:function(e){map.clearOverlays();var t=new BMap.Icon("http://api.map.baidu.com/img/markers.png",new BMap.Size(23,25),{offset:new BMap.Size(10,25),imageOffset:new BMap.Size(0,-250)}),i=new BMap.Marker(new BMap.Point(e.point.lng,e.point.lat),{icon:t});map.addOverlay(i);var a=new BMap.Point(e.point.lng,e.point.lat),l=new BMap.Geocoder,n=this;l.getLocation(a,(function(e){var t=e.addressComponents;n.locData.address=e.address,n.locData.province=t.province,n.locData.city=t.city,n.locData.district=t.district})),n.locData.longitude=e.point.lng,n.locData.latitude=e.point.lat},getLoctionSuccess:function(e,t,i){map.clearOverlays();var a=new BMap.Icon("http://api.map.baidu.com/img/markers.png",new BMap.Size(23,25),{offset:new BMap.Size(10,25),imageOffset:new BMap.Size(0,-250)}),l=new BMap.Marker(new BMap.Point(e.point.lng,e.point.lat),{icon:a});map.addOverlay(l),this.locData.longitude=e.point.lng,this.locData.latitude=e.point.lat;e=new BMap.Point(e.point.lng,e.point.lat);var n=new BMap.Geocoder,r=this;n.getLocation(e,(function(e){e.addressComponents;r.locData.address=e.address}))},mapNameChange:function(e,t){var i=this;if(this.loading=!0,!e&&!this.search)return!1;var a,l=this,n=null;s=new BMap.Geocoder;var r=new BMap.LocalSearch(map,{renderOptions:{map:map},onSearchComplete:function(e){i.loading=!1,e&&("change"!==t&&(l.searchOption=e.Kr),e.Kr.length>0&&(l.$set(l.locData,"longitude",e.Kr[0].point.lng),l.$set(l.locData,"latitude",e.Kr[0].point.lat))),void 0!=r.getResults()?(map.clearOverlays(),r.getResults().getPoi(0)?(a=r.getResults().getPoi(0).point,map.centerAndZoom(a,10),n=new BMap.Marker(a),map.addOverlay(n),n.enableDragging(),s.getLocation(a,(function(e){var t=e.addressComponents;l.$set(l.locData,"address",t.province+t.city+t.district+t.street+t.streetNumber),l.$set(l.locData,"province",t.province),l.$set(l.locData,"city",t.city)}))):i.$message("未匹配到地点!可拖动地图上的红色图标到精确位置")):i.$message("未找到搜索结果")}});r.search(e||this.search)},findlocation:function(){this.positionVisible=!1,this.$emit("mapLocationSave",this.locData),this.insert.lng=this.locData.longitude,this.insert.lat=this.locData.latitude,this.insert.address=this.locData.address,this.insert.province=this.locData.province,this.insert.city=this.locData.city,this.insert.district=this.locData.district,positionVisible=!1},clearSearch:function(){this.loading=!1},close:function(){this.positionVisible=!1,this.$emit("mapLocationClose")},getprovince:function(){var e=this;Object(r["E"])().then((function(t){e.provincelist=t}))},getcity:function(){var e=this;Object(r["y"])(this.query.province).then((function(t){e.citylist=[],e.query.city="",e.citylist=t}))},getmanager:function(){var e=this;Object(r["B"])().then((function(t){e.managerlist=t}))},getData:function(){var e=this;Object(r["u"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal,alert(pageTotal)}))},all:function(){var e=this;this.$set(this.query,"page",1),this.query.status="",this.query.manager="",this.query.city="",this.query.province="",Object(r["u"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},handleSearch:function(){var e=this;this.$set(this.query,"page",1),Object(r["u"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},selectPage:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;selectPage(0,10).then((function(t){e.tableData=t.list}))})),handleDelete:function(e,t,i){var a=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){a.$message.success("删除成功"),a.tableData.splice(e,1),Object(r["r"])(i)})).catch((function(){}))},handleSelectionChange:function(e){var t=this;this.multipleSelection=[],this.multipleSelectionId=[],this.multipleSelection=e,e.forEach((function(e){t.multipleSelectionId.push(e.id)}))},delAllSelection:function(){var e=this,t=this.multipleSelectionId.length,i="",a="",l=t;this.delList=this.delList.concat(this.multipleSelectionId);for(var n=0;n<t;n++)n!=l-1?(i+=this.multipleSelectionId[n]+",",a+=this.multipleSelection[n].projectNo+"、"):(i+=this.multipleSelectionId[n],a+=this.multipleSelection[n].projectNo);this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){Object(r["r"])(i),e.$message.error("删除了项目".concat(a,"，共").concat(l,"条数据"))})).catch((function(){})),this.multipleSelection=[]},handleEdit:function(e,t,i){this.idx=e,this.form=t,this.temp=t,this.editVisible=!0,this.editId=i},saveEdit:function(e){this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.$set(this.tableData,this.idx,this.form),Object(r["w"])(this.form),this.editTime="",this.editTime1=""},cancelEdit:function(){this.form=this.temp,this.$set(this.tableData,this.idx,this.temp),this.editVisible=!1},handleInsert:function(){this.insert={},this.keyword="",this.insertVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(r["s"])(t.insert),Object(r["j"])(t.insert.deviceid,t.insert.projectNo),t.insertVisible=!1}))},resetForm:function(e){this.$refs[e].resetFields()},handlePageChange:function(e){this.$set(this.query,"page",e),this.getData()}}},c=o,u=(i("4826"),i("2877")),d=Object(u["a"])(c,a,l,!1,null,"401fd046",null);t["default"]=d.exports},d45a:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-video-camera"}),t("span",{staticStyle:{"font-size":"25"}},[e._v("视频直播")])])],1)],1),t("el-col",{attrs:{span:4}},[t("el-card",{attrs:{shadow:"hover"}},[t("div",{staticClass:"dir-tree",staticStyle:{height:"700px"}},[t("div",{staticStyle:{"text-align":"center",color:"#909399","margin-bottom":"10px","font-size":"18px"}},[e._v("设备列表")]),t("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{lazy:"",load:e.loadNode,props:e.props,"node-key":"id","show-checkbox":""},on:{"node-click":e.handleNodeClick}})],1)])],1),t("el-col",{attrs:{span:20}},[t("el-card",{staticStyle:{height:"740px"},attrs:{shadow:"hover"}},[t("div",{staticClass:"cell",staticStyle:{height:"650px"}},[t("div",{staticClass:"cell-tool"},[t("div",{staticStyle:{"text-align":"center"}},[t("el-button-group",[t("el-button",{attrs:{icon:"el-icon-scissors",type:"warning",round:""},on:{click:e.cutPicture}},[e._v("截图")]),t("el-button",{attrs:{icon:"el-icon-picture",type:"primary"},on:{click:function(t){return e.cellCountFn(1)}}},[e._v("1宫格")]),t("el-button",{attrs:{icon:"el-icon-menu",type:"primary"},on:{click:function(t){return e.cellCountFn(4)}}},[e._v("4宫格")]),t("el-button",{attrs:{icon:"el-icon-s-grid",type:"primary"},on:{click:function(t){return e.cellCountFn(9)}}},[e._v("9宫格")]),t("el-button",{attrs:{icon:"el-icon-s-grid",type:"primary",round:""},on:{click:function(t){return e.cellCountFn(16)}}},[e._v("16宫格")])],1)],1)]),t("div",{staticClass:"cell-player",staticStyle:{height:"650px"}},e._l(e.cellCount,(function(i){return t("div",{key:i,class:e.cellClass(i)},[6!=e.cellCount?t("hw-cell-player",{attrs:{title:i,src:e.video}}):e._e(),6==e.cellCount&&2!=i&&3!=i?t("hw-cell-player",{attrs:{title:i,src:e.video}}):e._e(),6==e.cellCount&&2==i?[t("div",{staticClass:"cell-player-6-2-cell"},[t("hw-cell-player",{attrs:{title:i,src:e.video}}),t("hw-cell-player",{attrs:{title:++i,src:e.video}})],1)]:e._e()],2)})),0)])])],1)],1)},l=[],n=(i("96cf"),i("1da1")),r=i("365c"),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"player"},[e._v("player"+e._s(e.title)+"\n    "),t("div",[t("video",{ref:"video",staticStyle:{height:"100%",width:"100%"},attrs:{controls:"",id:"videos",autoplay:"true"}},[t("source",{attrs:{src:e.src}})])])])},o=[],c={props:{title:{type:String,default:""},src:{type:String,default:"../videos/01.mp4"}}},u=c,d=(i("21cd"),i("2877")),p=Object(d["a"])(u,s,o,!1,null,"26b86f4e",null),m=p.exports,h={name:"LiveStream",components:{HwCellPlayer:m},data:function(){return{query:{pageIndex:1,pageSize:10},tableData:[],multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,form:{},idx:-1,id:-1,num:0,cellCount:4,treeData1:"",props:{label:"label",isLeaf:"isLeaf"},video:"../videos/01.mp4",cellCountArr:[{index:1,data:null,isShow:!1},{index:2,data:null,isShow:!1},{index:3,data:null,isShow:!1},{index:4,data:null,isShow:!1}],iconArr:[{number:1,name:"el-icon-s-platform",tips:"1画面"},{number:4,name:"el-icon-menu",tips:"4画面"},{number:9,name:"el-icon-s-grid",tips:"9画面"},{number:16,name:"el-icon-s-grid",tips:"16画面"}]}},created:function(){this.getData(),this.getprovince()},methods:{getData:function(){var e=this;Object(r["n"])(this.query).then((function(t){console.log(t),e.tableData=t.list,e.pageTotal=t.pageTotal}))},cellCountFn:function(e){this.cellCount=e,this.cellCountArr.length=e},handleNodeClick:function(e){console.log(e),"province"==e.level?(this.center={},this.center=e.label,this.boundaryname=e.label,this.zoom=8):"city"==e.level?(this.center={},this.center=e.label,this.boundaryname=e.label,this.zoom=10):"project"==e.level&&(this.coordination.lat=e.lat,this.coordination.lng=e.lng,this.center=this.coordination,this.zoom=16)},loadNode:function(e,t){0==e.level&&this.loadfirstnode(t),1==e.level&&this.loadcitynode(e,t),2==e.level&&this.loadprojectnode(e,t),3==e.level&&this.loadmissionnode(e,t)},loadfirstnode:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return{level:0},e.next=3,Object(r["x"])();case 3:return i=e.sent,e.abrupt("return",t(i));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),loadcitynode:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i){var a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={province:t.label},e.next=3,Object(r["a"])(a);case 3:return l=e.sent,e.abrupt("return",i(l));case 5:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}(),loadprojectnode:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i){var a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={city:t.label},e.next=3,Object(r["t"])(a);case 3:return l=e.sent,e.abrupt("return",i(l));case 5:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}(),loadmissionnode:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i){var a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={projectId:t.data.objId},e.next=3,Object(r["p"])(a);case 3:return l=e.sent,e.abrupt("return",i(l));case 5:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}(),loaddevicenode:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i){var a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={city:t.label},e.next=3,Object(r["t"])(a);case 3:return l=e.sent,e.abrupt("return",i(l));case 5:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}(),getprovince:function(){var e=this;Object(r["x"])().then((function(t){e.treeData1=t}))},proselect:function(){var e=this;dashproselect().then((function(t){return[e.markers=t]}))}},computed:{cellClass:function(){return function(e){switch(this.cellCount){case 1:return["cell-player-1"];case 4:return["cell-player-4"];case 9:return["cell-player-9"];case 16:return["cell-player-16"];default:break}}}}},f=h,g=(i("782a"),Object(d["a"])(f,a,l,!1,null,"ca0dbb64",null));t["default"]=g.exports},ddc3:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-lx-people"}),t("span",{staticStyle:{"font-size":"25"}},[e._v("用户管理")])])],1)],1),t("div",{staticClass:"container"},[t("div",{staticClass:"handle-box"},[t("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAllSelection}},[e._v("批量删除")]),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"状态",filterable:""},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},[t("el-option",{key:"1",attrs:{label:"有效",value:"有效"}}),t("el-option",{key:"2",attrs:{label:"无效",value:"无效"}}),t("el-option",{key:"3",attrs:{label:"其他",value:"其他"}})],1),t("el-select",{staticClass:"handle-select mr10",attrs:{clearable:"",placeholder:"权限",filterable:""},model:{value:e.query.authority,callback:function(t){e.$set(e.query,"authority",t)},expression:"query.authority"}},[t("el-option",{key:"1",attrs:{label:"admin",value:"admin"}}),t("el-option",{key:"2",attrs:{label:"user",value:"user"}})],1),t("el-select",{staticClass:"handle-select-name mr10",attrs:{clearable:"",placeholder:"姓名",filterable:""},on:{focus:function(t){return e.getname()}},model:{value:e.query.userName,callback:function(t){e.$set(e.query,"userName",t)},expression:"query.userName"}},e._l(this.namelist,(function(e){return t("el-option",{key:e,attrs:{value:e}})})),1),t("el-button",{attrs:{type:"primary",icon:"el-icon-aim"},on:{click:e.handleSearch}},[e._v("搜索")]),t("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-full-screen"},on:{click:function(t){return e.all()}}},[e._v("全部")]),t("el-button",{staticClass:"handle-del mr10",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleInsert}},[e._v("新增用户")])],1),t("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{prop:"userNo",label:"编号",width:"80",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"userName",label:"姓名",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"password",label:"密码",align:"center"}}),t("el-table-column",{attrs:{prop:"authority",label:"权限",width:"80",align:"center"}}),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"80",align:"center"}}),t("el-table-column",{attrs:{prop:"phone",label:"电话",align:"center"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",align:"center",sortable:""}}),t("el-table-column",{attrs:{label:"操作",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(i.$index,i.row,i.row.id)}}},[e._v("编辑")]),t("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(i.$index,i.row,i.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next ","current-page":e.query.page,"page-size":e.query.pagesize,total:e.pageTotal},on:{"update:currentPage":function(t){return e.$set(e.query,"page",t)},"update:current-page":function(t){return e.$set(e.query,"page",t)},"current-change":e.handlePageChange}})],1)],1),t("el-dialog",{attrs:{title:"编辑用户",visible:e.editVisible,width:"25%"},on:{"update:visible":function(t){e.editVisible=t}}},[t("div",{staticStyle:{"padding-left":"90px","padding-bottom":"20px"}},[e._v("\n                编号："+e._s(e.form.userNo)+"\n        ")]),t("div",{staticStyle:{"padding-left":"90px","padding-bottom":"20px"}},[e._v("\n                姓名："+e._s(e.form.userName)+"\n        ")]),t("el-form",{ref:"form",staticStyle:{"padding-left":"5px"},attrs:{model:e.form,"label-width":"70px",rules:e.rules}},[t("el-form-item",{attrs:{prop:"password"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                密码：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)]),t("el-form-item",{attrs:{prop:"authority"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                权限：\n                "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"请选择权限"},model:{value:e.form.authority,callback:function(t){e.$set(e.form,"authority",t)},expression:"form.authority"}},[t("el-option",{key:"0",attrs:{label:"admin",value:"admin"}}),t("el-option",{key:"1",attrs:{label:"user",value:"user"}})],1)],1)]),t("el-form-item",{attrs:{prop:"status"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                状态：\n                "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-option",{key:"1",attrs:{label:"有效",value:"无效"}}),t("el-option",{key:"2",attrs:{label:"无效",value:"无效"}}),t("el-option",{key:"3",attrs:{label:"其他",value:"其他"}})],1)],1)]),t("el-form-item",{attrs:{prop:"phone"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                电话：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveEdit(e.editId)}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"新增用户",visible:e.insertVisible,width:"30%"},on:{"update:visible":function(t){e.insertVisible=t}}},[t("el-form",{ref:"insertForm",staticStyle:{"padding-left":"5px"},attrs:{model:e.insert,"label-width":"70px",rules:e.rules}},[t("el-form-item",{attrs:{prop:"userNo"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                编号：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.insert.userNo,callback:function(t){e.$set(e.insert,"userNo",t)},expression:"insert.userNo"}})],1)]),t("el-form-item",{attrs:{prop:"userName"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v("\n                姓名：\n                    "),t("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容"},model:{value:e.insert.userName,callback:function(t){e.$set(e.insert,"userName",t)},expression:"insert.userName"}})],1)]),t("el-form-item",{attrs:{prop:"password"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                密码：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入密码"},model:{value:e.insert.password,callback:function(t){e.$set(e.insert,"password",t)},expression:"insert.password"}})],1)]),t("el-form-item",{attrs:{prop:"authority"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                权限：\n                "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"请选择权限"},model:{value:e.insert.authority,callback:function(t){e.$set(e.insert,"authority",t)},expression:"insert.authority"}},[t("el-option",{key:"0",attrs:{label:"admin",value:"admin"}}),t("el-option",{key:"1",attrs:{label:"user",value:"user"}})],1)],1)]),t("el-form-item",{attrs:{prop:"status"}},[t("div",{staticStyle:{"padding-left":"25px"},attrs:{border:"2px solid red"}},[e._v("\n                状态：\n                "),t("el-select",{staticClass:"handle-select mr10",staticStyle:{width:"36.5%"},attrs:{clearable:"",placeholder:"请选择状态"},model:{value:e.insert.status,callback:function(t){e.$set(e.insert,"status",t)},expression:"insert.status"}},[t("el-option",{key:"1",attrs:{label:"有效",value:"有效"}}),t("el-option",{key:"2",attrs:{label:"无效",value:"无效"}}),t("el-option",{key:"2",attrs:{label:"其他",value:"其他"}})],1)],1)]),t("el-form-item",{attrs:{prop:"image"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                图片：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入内容"},model:{value:e.insert.image,callback:function(t){e.$set(e.insert,"image",t)},expression:"insert.image"}})],1)]),t("el-form-item",{attrs:{prop:"phone"}},[t("div",{staticStyle:{"padding-left":"10px"}},[e._v(" \n                电话：\n                    "),t("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入电话"},model:{value:e.insert.phone,callback:function(t){e.$set(e.insert,"phone",t)},expression:"insert.phone"}})],1)])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.insertVisible=!1}}},[e._v("取 消")]),t("el-button",{on:{click:function(t){return e.resetForm("insertForm")}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("insertForm")}}},[e._v("确 定")])],1)],1)],1)},l=[],n=(i("ac6a"),i("6b54"),i("365c")),r={name:"basetable",data:function(){return{query:{userName:"",authority:"",status:"",page:1,pagesize:8},tableData:[],multipleSelection:[],multipleSelectionId:[],delList:[],editVisible:!1,insertVisible:!1,pageTotal:0,form:{userName:"",userNo:"",password:"",authority:"",status:"",phone:""},idx:-1,id:-1,testId:"",formData:"",searchData:[],selectExecutor:"",editId:"",missionCount:"",edit:{status:"",executorName:""},pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},editTime:"",editTime1:"",insert:{userNo:"",userName:"",password:"",authority:"",status:"",image:"",phone:""},namelist:[],rules:{userNo:[{required:!0,message:"请输入用户编号",trigger:"blur"},{required:!0,pattern:/^[1-9]\d*$/,message:"用户编号应为数字",trigger:"blur"},{min:1,max:5,message:"长度应在 1 到 5 个字符",trigger:"blur"}],userName:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度应在 6 到 20 个字符",trigger:"blur"}],authority:[{required:!0,message:"请选择权限",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],image:[{required:!0,message:"请输入图片地址",trigger:"blur"}],phone:[{required:!0,message:"请输入电话",trigger:"blur"},{required:!0,pattern:/^[1-9]\d*$/,message:"电话号码应为数字",trigger:"blur"}]}}},created:function(){this.getData()},methods:{getpro:function(){var e=this;Object(n["v"])().then((function(t){e.projectlist=t}))},getData:function(){var e=this;Object(n["I"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},getdepartment:function(){var e=this;Object(n["C"])().then((function(t){e.departmentlist=t}))},getname:function(){var e=this;Object(n["C"])().then((function(t){e.namelist=t}))},all:function(){var e=this;this.$set(this.query,"page",1),this.query.authority="",this.query.userName="",this.query.status="",Object(n["I"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},handleSearch:function(){var e=this;this.$set(this.query,"page",1),this.missionCount=1,Object(n["I"])(this.query).then((function(t){e.tableData=t.list,e.pageTotal=t.pageTotal}))},selectPage:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;selectPage(0,10).then((function(t){e.tableData=t.list}))})),handleDelete:function(e,t,i){var a=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){a.$message.success("删除成功"),a.tableData.splice(e,1),Object(n["G"])(i)})).catch((function(){}))},handleSelectionChange:function(e){var t=this;this.multipleSelection=[],this.multipleSelectionId=[],this.multipleSelection=e,e.forEach((function(e){t.multipleSelectionId.push(e.id)}))},delAllSelection:function(){var e=this.multipleSelectionId.length,t="",i="",a=e;this.delList=this.delList.concat(this.multipleSelectionId);for(var l=0;l<e;l++)l!=a-1?(t+=this.multipleSelectionId[l]+",",i+=this.multipleSelection[l].userNo+"、"):(t+=this.multipleSelectionId[l],i+=this.multipleSelection[l].userNo);Object(n["G"])(t),this.$message.error("删除了用户".concat(i,"，共").concat(a,"条数据")),this.multipleSelection=[]},handleEdit:function(e,t,i){this.idx=e,this.form=t,this.editVisible=!0,this.editId=i},saveEdit:function(e){this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.$set(this.tableData,this.idx,this.form),Object(n["J"])(this.form)},handleInsert:function(){this.insertVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(n["H"])(t.insert),t.insertVisible=!1,t.insert={}}))},resetForm:function(e){this.$refs[e].resetFields()},handlePageChange:function(e){this.$set(this.query,"page",e),this.getData()}}},s=r,o=(i("21ed"),i("2877")),c=Object(o["a"])(s,a,l,!1,null,"44e407c7",null);t["default"]=c.exports},f8bf:function(e,t,i){}}]);