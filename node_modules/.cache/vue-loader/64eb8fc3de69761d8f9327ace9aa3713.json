{"remainingRequest":"E:\\Java项目\\vue-manage-system-4.2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Java项目\\vue-manage-system-4.2.0\\src\\components\\page\\LiveStream.vue?vue&type=style&index=0&id=6f54034c&scoped=true&lang=css&","dependencies":[{"path":"E:\\Java项目\\vue-manage-system-4.2.0\\src\\components\\page\\LiveStream.vue","mtime":1683285160816},{"path":"E:\\Java项目\\vue-manage-system-4.2.0\\node_modules\\css-loader\\index.js","mtime":1681546634000},{"path":"E:\\Java项目\\vue-manage-system-4.2.0\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1681546634000},{"path":"E:\\Java项目\\vue-manage-system-4.2.0\\node_modules\\postcss-loader\\src\\index.js","mtime":1681546634000},{"path":"E:\\Java项目\\vue-manage-system-4.2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681546634000},{"path":"E:\\Java项目\\vue-manage-system-4.2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1681546634000}],"contextDependencies":[],"result":["\r\n.handle-box {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.handle-select {\r\n    width: 120px;\r\n}\r\n\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.table {\r\n    width: 100%;\r\n    font-size: 14px;\r\n}\r\n.red {\r\n    color: #ff0000;\r\n}\r\n.mr10 {\r\n    margin-right: 10px;\r\n}\r\n.table-td-thumb {\r\n    display: block;\r\n    margin: auto;\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n\r\n.cell {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height:200px\r\n}\r\n.cell-tool {\r\n  height: 40px;\r\n  line-height: 30px;\r\n  padding: 0 7px;\r\n}\r\n.player {\r\n  height: 200px;\r\n}\r\n.player-w1 {\r\n  width: 100%;\r\n  height:100%;\r\n  box-sizing: border-box;\r\n}\r\n.player-w4 {\r\n  width: 50%;\r\n  height: 50% !important;\r\n  box-sizing: border-box;/**可有可无 */\r\n  float:left;\r\n}\r\n\r\n.player-9 {\r\n  width: 33.33%;\r\n  height: 33.33% !important;\r\n  box-sizing: border-box;\r\n  float: left;\r\n}\r\n.player-16 {\r\n  width: 25%;\r\n  height: 25% !important;\r\n  box-sizing: border-box;\r\n  float:left;\r\n}\r\n.container{\r\n  width:96%;\r\n  /* width:100%; */\r\n  height: 1000px;\r\n}\r\n\r\n.cell-tool {\r\n    height: 40px;\r\n    line-height: 30px;\r\n    padding: 0 7px;\r\n}\r\n.cell-player {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n}\r\n.cell-player-4 {\r\n    width: 50%;\r\n    height: 50% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-1 {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-6-1 {\r\n    width: 66.66%;\r\n    height: 66.66% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-6-2 {\r\n    width: 33.33%;\r\n    height: 66.66% !important;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.cell-player-6-none {\r\n    display: none;\r\n}\r\n.cell-player-6-2-cell {\r\n    width: 100%;\r\n    height: 50% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-6 {\r\n    width: 33.33%;\r\n    height: 33.33% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-9 {\r\n    width: 33.33%;\r\n    height: 33.33% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-16 {\r\n    width: 25%;\r\n    height: 25% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n}\r\n",{"version":3,"sources":["LiveStream.vue"],"names":[],"mappings":";AA+TA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LiveStream.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-video-camera\"></i> \r\n                    <span style=\"font-size: 25;\">视频直播</span>\r\n                </el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n\r\n        <!-- <div class=\"container\" > -->\r\n        \r\n        <el-col :span=\"4\"> <!-- 最下面的左框，放树 --> <!-- ***************************************** -->\r\n            <el-card shadow=\"hover\">\r\n\r\n                <div style=\"height:700px;\" class=\"dir-tree\">\r\n                 <div style=\"text-align: center;color:#909399;margin-bottom: 10px; font-size: 18px;\" >设备列表</div>\r\n                    <el-tree lazy :load=\"loadNode\" \r\n                        :props=\"props\" \r\n                        node-key=\"id\" \r\n                        @node-click=\"handleNodeClick\"\r\n                        class=\"filter-tree\"\r\n                        show-checkbox\r\n                        ref=\"tree\">\r\n                    </el-tree>\r\n                \r\n                </div>\r\n            </el-card>\r\n        </el-col>\r\n\r\n        <el-col :span=\"20\"> <!-- 最下面的大框，放直播界面-->\r\n            <el-card shadow=\"hover\" style=\"height:740px\">\r\n        <div class=\"cell\" style=\"height:650px;\">\r\n          <div class=\"cell-tool\">\r\n            <div style=\"text-align: center;\">\r\n              <el-button-group >\r\n                  <!-- <el-button @click=\"cellCountFn(item.number)\" v-for=\"(item,index) in iconArr\" :key=\"index\">{{item.number}}</el-button> -->\r\n                  <el-button @click=\"cutPicture\" icon=\"el-icon-scissors\" type=\"warning\"  round>截图</el-button>\r\n                  <el-button @click=\"cellCountFn(1)\" icon=\"el-icon-picture\" type=\"primary\">1宫格</el-button>\r\n                  <el-button @click=\"cellCountFn(4)\" icon=\"el-icon-menu\" type=\"primary\">4宫格</el-button>\r\n                  <el-button @click=\"cellCountFn(9)\" icon=\"el-icon-s-grid\" type=\"primary\">9宫格</el-button>\r\n                  <el-button @click=\"cellCountFn(16)\" icon=\"el-icon-s-grid\" type=\"primary\" round>16宫格</el-button>\r\n                  \r\n                  <!-- item 是被遍历的数组中的各个元素，index是元素的索引 -->\r\n              </el-button-group>  \r\n            </div>\r\n          </div>\r\n\r\n            <div class=\"cell-player\" style=\"height:650px;\">\r\n            <div :class=\"cellClass(i)\" v-for=\"i in cellCount\" :key=\"i\">\r\n                <hw-cell-player :title=\"i\" :src=\"video\" v-if=\"cellCount != 6\"></hw-cell-player>\r\n                <hw-cell-player :title=\"i\" :src=\"video\" v-if=\"cellCount == 6 && i != 2 && i != 3\"></hw-cell-player>\r\n                <template v-if=\"cellCount == 6 && i == 2\">\r\n                    <div class=\"cell-player-6-2-cell\">\r\n                        <hw-cell-player :title=\"i\" :src=\"video\"></hw-cell-player>\r\n                        <hw-cell-player :title=\"(++i)\" :src=\"video\"></hw-cell-player>\r\n                    </div>\r\n                </template>\r\n\r\n            </div>\r\n            </div>\r\n           \r\n          </div>\r\n        </el-card>\r\n        \r\n        \r\n    \r\n        </el-col>\r\n        <!-- </div> container -->\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { fetchData } from '../../api/index';\r\nimport {province,city,project,mission} from '../../api/index'\r\nimport HwCellPlayer from './HwCellPlayer.vue'\r\nexport default {\r\n    name: 'LiveStream',\r\n    components: {\r\n      HwCellPlayer},\r\n    data() {\r\n        return {\r\n            query: {\r\n\r\n                pageIndex: 1,\r\n                pageSize: 10\r\n            },\r\n            tableData: [],\r\n            multipleSelection: [],\r\n            delList: [],\r\n            editVisible: false,\r\n            pageTotal: 0,\r\n            form: {},\r\n            idx: -1,\r\n            id: -1,\r\n            num: 0,\r\n            cellCount:4,  //默认从4开始\r\n\r\n            treeData1:'',\r\n            props: {\r\n                label: \"label\",\r\n                isLeaf: \"isLeaf\",\r\n            },  \r\n            // video:'../videos/01.mp4',\r\n            video:'http://114.115.144.239/live/34020000001318880001.mp4',\r\n\r\n        cellCountArr: [\r\n          {\r\n            index:1,\r\n            data:null,\r\n            isShow:false\r\n          },\r\n          {\r\n            index:2,\r\n            data:null,\r\n            isShow:false\r\n          },\r\n          {\r\n            index:3,\r\n            data:null,\r\n            isShow:false\r\n          },\r\n          {\r\n            index:4,\r\n            data:null,\r\n            isShow:false\r\n          },\r\n        ],\r\n        iconArr:[             //1 2 3 4 6 9 16宫格 icon 样式\r\n          {\r\n            number:1,   //必须是int（number） 类型 \r\n            name:'el-icon-s-platform',\r\n            tips:'1画面'\r\n          },\r\n          {\r\n            number:4,   //必须是int（number） 类型 \r\n            name:'el-icon-menu',\r\n            tips:'4画面'\r\n          },\r\n          {\r\n            number:9,   //必须是int（number） 类型 \r\n            name:'el-icon-s-grid',\r\n            tips:'9画面'\r\n          },\r\n          {\r\n            number:16,  //必须是int（number） 类型 \r\n            name:'el-icon-s-grid',\r\n            tips:'16画面'\r\n          },\r\n\r\n        ],  \r\n        };\r\n    },\r\n    created() {\r\n        this.getData();\r\n        this.getprovince();\r\n    },\r\n    methods: {\r\n        // 获取 easy-mock 的模拟数据\r\n        getData() {\r\n            fetchData(this.query).then(res => {\r\n                //alert(res);\r\n                console.log(res);\r\n                this.tableData = res.list; \r\n                //this.tableData = res.list; /* 将获取数据中的list赋值给tabledata */\r\n                this.pageTotal = res.pageTotal ;//|| 50;\r\n            });\r\n        },\r\n        cellCountFn(number){\r\n            this.cellCount = number\r\n            this.cellCountArr.length = number\r\n        },\r\n        handleNodeClick(data) \r\n        {\r\n            console.log(data);\r\n\r\n            //新增一个属性\r\n            if(data.level==\"province\"){\r\n                //alert(\"province\")\r\n\r\n                this.center = {};\r\n                this.center = data.label;\r\n                this.boundaryname = data.label\r\n                this.zoom=8;\r\n\r\n            }\r\n            else if(data.level==\"city\"){\r\n\r\n                this.center = {};\r\n                this.center=data.label;\r\n                this.boundaryname = data.label\r\n                this.zoom = 10;\r\n                \r\n                //alert(\"city\")\r\n            }else if(data.level==\"project\"){\r\n\r\n                this.coordination.lat = data.lat;\r\n                this.coordination.lng = data.lng;\r\n                this.center = this.coordination;\r\n                this.zoom = 16;\r\n                //alert(\"project\")\r\n            }          \r\n     \r\n      },\r\n\r\n        loadNode(node, resolve) {\r\n          \r\n        //如果展开第一级节点，从后台加载一级节点列表******省\r\n        if (node.level == 0) {\r\n            this.loadfirstnode(resolve);\r\n        }\r\n        //如果展开市节点，动态从后台加载下一级节点列表******市\r\n        if (node.level == 1) {\r\n            this.loadcitynode(node, resolve);\r\n        }\r\n        //如果展开项目节点，动态从后台加载下一级节点列表******项目\r\n        if (node.level == 2) {\r\n            this.loadprojectnode(node, resolve);\r\n        }\r\n        if (node.level == 3) {\r\n            this.loadmissionnode(node, resolve);\r\n        }\r\n\r\n        },\r\n\r\n         async loadfirstnode(resolve) {\r\n        let params = {\r\n            level: 0,\r\n        };\r\n\r\n        const res = await province();\r\n        return resolve(res);\r\n        },\r\n        //市\r\n        async loadcitynode(node, resolve) {\r\n\r\n        let params = {\r\n            province: node.label,\r\n        };\r\n        const res = await city(params);\r\n        return resolve(res);\r\n        },\r\n\r\n        //项目\r\n        async loadprojectnode(node, resolve) {\r\n        \r\n        let params = {\r\n            city: node.label,\r\n        };\r\n        const res = await project(params);\r\n        return resolve(res);\r\n        },\r\n        \r\n        async loadmissionnode(node, resolve) {\r\n        \r\n        //alert(node.objId)\r\n        let params = {\r\n            projectId: node.data.objId,\r\n        };\r\n        const res = await mission(params);\r\n        return resolve(res);\r\n        },\r\n\r\n        //设备\r\n        async loaddevicenode(node, resolve) {\r\n        \r\n        let params = {\r\n            city: node.label,\r\n        };\r\n        const res = await project(params);\r\n        return resolve(res);\r\n        },\r\n\r\n        \r\n    getprovince(){\r\n        province().then(res=>{\r\n          \r\n            this.treeData1=res;\r\n            //alert(this.treeData1);\r\n            \r\n        })\r\n    },\r\n        proselect(){\r\n        dashproselect().then(res=>[\r\n        this.markers=res\r\n        ])\r\n    },\r\n\r\n    },\r\n    computed: {\r\n    // 计算类样式属性\r\n    cellClass() {\r\n      return function (index) {\r\n            switch (this.cellCount) {\r\n                case 1:\r\n                    return ['cell-player-1']\r\n                case 4:\r\n                    return ['cell-player-4']                 \r\n                case 9:\r\n                    return ['cell-player-9']\r\n                case 16:\r\n                    return ['cell-player-16']\r\n                default:\r\n                    break;\r\n                }\r\n\r\n            }\r\n    },\r\n}\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.handle-select {\r\n    width: 120px;\r\n}\r\n\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.table {\r\n    width: 100%;\r\n    font-size: 14px;\r\n}\r\n.red {\r\n    color: #ff0000;\r\n}\r\n.mr10 {\r\n    margin-right: 10px;\r\n}\r\n.table-td-thumb {\r\n    display: block;\r\n    margin: auto;\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n\r\n.cell {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height:200px\r\n}\r\n.cell-tool {\r\n  height: 40px;\r\n  line-height: 30px;\r\n  padding: 0 7px;\r\n}\r\n.player {\r\n  height: 200px;\r\n}\r\n.player-w1 {\r\n  width: 100%;\r\n  height:100%;\r\n  box-sizing: border-box;\r\n}\r\n.player-w4 {\r\n  width: 50%;\r\n  height: 50% !important;\r\n  box-sizing: border-box;/**可有可无 */\r\n  float:left;\r\n}\r\n\r\n.player-9 {\r\n  width: 33.33%;\r\n  height: 33.33% !important;\r\n  box-sizing: border-box;\r\n  float: left;\r\n}\r\n.player-16 {\r\n  width: 25%;\r\n  height: 25% !important;\r\n  box-sizing: border-box;\r\n  float:left;\r\n}\r\n.container{\r\n  width:96%;\r\n  /* width:100%; */\r\n  height: 1000px;\r\n}\r\n\r\n.cell-tool {\r\n    height: 40px;\r\n    line-height: 30px;\r\n    padding: 0 7px;\r\n}\r\n.cell-player {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n}\r\n.cell-player-4 {\r\n    width: 50%;\r\n    height: 50% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-1 {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-6-1 {\r\n    width: 66.66%;\r\n    height: 66.66% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-6-2 {\r\n    width: 33.33%;\r\n    height: 66.66% !important;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.cell-player-6-none {\r\n    display: none;\r\n}\r\n.cell-player-6-2-cell {\r\n    width: 100%;\r\n    height: 50% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-6 {\r\n    width: 33.33%;\r\n    height: 33.33% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-9 {\r\n    width: 33.33%;\r\n    height: 33.33% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell-player-16 {\r\n    width: 25%;\r\n    height: 25% !important;\r\n    box-sizing: border-box;\r\n}\r\n.cell {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n}\r\n</style>\r\n"]}]}